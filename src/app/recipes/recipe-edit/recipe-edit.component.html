<div class="recipe-overlay">
  <div class="overlay-contain">
    <div class="col-xs-10 col-xs-offset-1">
      <form [formGroup]="recipeForm"
            (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="col-xs-12 text-center">
            <button type="submit"
                    [disabled]="!recipeForm.valid"
                    class="btn btn-success"
                    style="margin-right: 25px">Save</button>
            <button type="button"
                    class="btn btn-danger"
                    (click)="onCancel()">Cancel</button>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text"
                     id="name"
                     class="form-control"
                     formControlName="name">
            </div>
            <div class="form-group">
              <label for="description">Description</label>
              <textarea type="text"
                        id="description"
                        class="form-control recipe-description-area"
                        formControlName="description"
                        rows="6"></textarea>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="imagePath">Image URL</label>
              <input type="text"
                     id="imagePath"
                     class="form-control"
                     formControlName="imagePath"
                     #imagePath>
            </div>
            <div class="form-group">
              <label for="imagePath">Recipe Image</label>
              <img [src]="imagePath.value"
                   class="img-responsive">
            </div>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-xs-12"
               formGroupName='ingredients'>
            <div class="row"
                 *ngFor='let ingredientType of ingredientTypeArray; let i = index'>
              <div class="col-xs-10"
                   [formGroupName]="i">
                <div class="form-group">
                  <label for="title">Recipe Type</label>
                  <input type="text"
                         class="form-control"
                         formControlName="title">
                </div>
                <div class="row"
                     *ngFor="let ingredient of ingredientListArray[i]; let p = index"
                     formArrayName="item">
                  <div class="col-xs-10"
                       [formGroupName]="p">
                    <label for="title">Ingredient</label>
                    <input type="text"
                           class="form-control"
                           formControlName="name">
                  </div>
                  <div class="col-xs-2">
                    <button type="button"
                            class="btn btn-danger"
                            (click)="onDeleteItem('ingredient', p, i)">X</button>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12">
                    <button type="button"
                            class="btn btn-success"
                            (click)="onAddItem('ingredient', i)">Add Ingredient</button>
                  </div>
                </div>
                <hr>
              </div>
              <div class="col-xs-2">
                <button type="button"
                        class="btn btn-danger"
                        (click)="onDeleteItemType('ingredient', i)">X</button>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-12">
                <button type="button"
                        class="btn btn-success"
                        (click)="onAddItemType('ingredient')">Add Ingredient Type</button>
              </div>
            </div>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-xs-12"
               formGroupName='directions'>
            <div class="row"
                 *ngFor='let directionType of directionsTypeArray; let i = index'>
              <div class="col-xs-10"
                   [formGroupName]="i">
                <div class="form-group">
                  <label for="title">Direction Type</label>
                  <input type="text"
                         class="form-control"
                         formControlName="title">
                </div>
                <div class="row"
                     *ngFor="let direction of directionListArray[i]; let p = index"
                     formArrayName="item">
                  <div class="col-xs-10"
                       [formGroupName]="p">
                    <label for="title">Direction</label>
                    <input type="text"
                           class="form-control"
                           formControlName="name">
                  </div>
                  <div class="col-xs-2">
                    <button type="button"
                            class="btn btn-danger"
                            (click)="onDeleteItem('directions', p, i)">X</button>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12">
                    <button type="button"
                            class="btn btn-success"
                            (click)="onAddItem('directions', i)">Add Direction</button>
                  </div>
                </div>
                <hr>
              </div>
              <div class="col-xs-2">
                <button type="button"
                        class="btn btn-danger"
                        (click)="onDeleteItemType('directions', i)">X</button>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-12">
                <button type="button"
                        class="btn btn-success"
                        (click)="onAddItemType('directions')">Add Direction Type</button>
              </div>
            </div>
          </div>
        </div>
        <hr>
        <div class="row"
             style="margin-bottom: 25px">
        </div>
      </form>
    </div>
  </div>
</div>